{"version":3,"sources":["logo.svg","components/canvas/styles.ts","components/canvas/index.tsx","components/item/helpers.ts","components/item/styles.ts","components/item/controls/styles.ts","loop.svg","components/item/controls/index.tsx","components/item/index.tsx","styles.ts","App.tsx","reportWebVitals.js","index.js"],"names":["Container","styled","Canvas","children","getScale","currentScale","delta","size","inverse","getOuterStyles","itemExists","positionX","positionY","rotation","width","height","scaleX","scaleY","transform","transformOrigin","getEventCoordinates","event","x","touches","clientX","y","clientY","container","css","OuterContainer","InnerContainer","showOutline","ItemContainer","controlSize","control","TopLeft","TopRight","BottomLeft","BottomRight","Rotator","Controls","onScaleMouseDown","onRotateMouseDown","onTopLeftMouseDown","onTopRightMouseDown","onBottomLeftMouseDown","onBottomRightMouseDown","onMouseDown","onTouchStart","src","loop","alt","draggable","Item","defaultPosition","itemRef","useRef","useState","isFocussed","setIsFocussed","current","clientWidth","clientHeight","isDragging","setIsDragging","setPositionX","setPositionY","dragStartPosition","setDragStartPosition","isScaling","setIsScaling","scale","setScale","top","left","scaleStartPosition","setScaleStartPosition","isRotating","setIsRotating","setRotation","rotationStartPosition","setRotationStartPosition","onDragMouseDown","useEffect","onMouseUp","document","addEventListener","removeEventListener","onDrag","onScale","eventX","eventY","isMinWidth","isMinHeight","onRotate","startX","startY","currentX","currentY","Math","atan2","PI","style","tabIndex","onFocus","onBlur","ref","React","cloneElement","onClick","preventDefault","onDragStart","div","rotate","keyframes","Image","img","Link","a","centerPosition","window","innerWidth","min","innerHeight","App","logo","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.36ba4ef9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6c1d44b8.svg\";","import styled from 'styled-components';\n\nexport const Container = styled('div')`\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n","import React from 'react';\nimport { ItemProps } from '../item';\nimport { Container } from './styles';\n\nexport type CanvasProps = {\n  children: React.ReactElement<ItemProps> | React.ReactElement<ItemProps>[];\n};\n\nconst Canvas: React.FC<CanvasProps> = ({ children }) => <Container>{children}</Container>;\n\nexport default Canvas;\n","import React from 'react'\n\nexport const getScale = (currentScale: number, delta: number, size: number, inverse: boolean) => {\n  return currentScale + (delta / size) * (inverse ? -1 : 1);\n};\n\nexport const getRotation = (startX: number, startY: number, currentX: number, currentY: number) =>\n  (Math.atan2(startY - currentY, startX - currentX) * 180) / Math.PI + 90;\n\ntype OuterStyleOptionsType = {\n  itemExists: boolean;\n  positionX: number;\n  positionY: number;\n  rotation: number;\n  width: number;\n  height: number;\n  scaleX: number;\n  scaleY: number;\n};\n\nexport const getOuterStyles = ({\n  itemExists,\n  positionX,\n  positionY,\n  rotation,\n  width,\n  height,\n  scaleX,\n  scaleY,\n}: OuterStyleOptionsType) => ({\n  transform: `translate(${positionX}px, ${positionY}px) rotate(${rotation}deg)`,\n  width: itemExists ? width * scaleX : 0,\n  height: itemExists ? height * scaleY : 0,\n  transformOrigin: itemExists ? `${(width * scaleX) / 2}px ${(height * scaleY) / 2}px` : 'center',\n});\n\nexport type EventType = React.MouseEvent<HTMLDivElement, MouseEvent> | MouseEvent | React.TouchEvent<HTMLDivElement> | TouchEvent\n\nexport const getEventCoordinates = (event: EventType) => (\n  'touches' in event ? { x: event.touches[0].clientX, y: event.touches[0].clientY } : { x: event.clientX, y: event.clientY }\n)\n","import styled, { css } from 'styled-components';\n\nexport const container = css`\n  position: absolute;\n  pointer-events: none;\n  user-select: none;\n  -webkit-user-drag: none;\n`;\n\nexport const OuterContainer = styled('div')`\n  ${container};\n\n  &:focus,\n  &:hover {\n    outline: solid 2px;\n  }\n`;\n\nexport const InnerContainer = styled('div')<{ showOutline: boolean }>`\n  ${container};\n  transform-origin: 0 0;\n\n  ${({ showOutline }) =>\n    showOutline &&\n    css`\n      &:hover {\n        outline: solid 2px;\n      }\n    `}\n`;\n\nexport const ItemContainer = styled('div')`\n  pointer-events: auto;\n  cursor: move;\n  display: flex;\n  flex-direction: column;\n\n  * {\n    cursor: move;\n  }\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled('div')`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n`;\n\nconst controlSize = 16;\n\nconst control = css`\n  position: absolute;\n  pointer-events: auto;\n  width: ${controlSize}px;\n  height: ${controlSize}px;\n  background: white;\n  border-radius: 50%;\n`;\n\nexport const TopLeft = styled('div')`\n  ${control};\n  top: -${controlSize / 2}px;\n  left: -${controlSize / 2}px;\n  cursor: se-resize;\n`;\n\nexport const TopRight = styled('div')`\n  ${control};\n  top: -${controlSize / 2}px;\n  right: -${controlSize / 2}px;\n  cursor: sw-resize;\n`;\n\nexport const BottomLeft = styled('div')`\n  ${control};\n  bottom: -${controlSize / 2}px;\n  left: -${controlSize / 2}px;\n  cursor: sw-resize;\n`;\n\nexport const BottomRight = styled('div')`\n  ${control};\n  bottom: -${controlSize / 2}px;\n  right: -${controlSize / 2}px;\n  cursor: se-resize;\n`;\n\nexport const Rotator = styled('div')`\n  ${control};\n  top: calc(50% - ${controlSize / 2}px);\n  left: calc(50% - ${controlSize / 2}px);\n  cursor: grabbing;\n\n  img {\n    display: block;\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/loop.2aa6c7dc.svg\";","import React from 'react';\nimport { EventType } from '../helpers'\nimport { Container, TopLeft, TopRight, BottomLeft, BottomRight, Rotator } from './styles';\nimport loop from '../../../loop.svg';\n\nexport type ControlsProps = {\n  onScaleMouseDown: (event: EventType, top: boolean, left: boolean) => void;\n  onRotateMouseDown: (event: EventType) => void;\n};\n\nconst Controls: React.FC<ControlsProps> = ({ onScaleMouseDown, onRotateMouseDown }) => {\n  const onTopLeftMouseDown = (event: EventType) => onScaleMouseDown(event, true, true)\n  const onTopRightMouseDown = (event: EventType) => onScaleMouseDown(event, true, false)\n  const onBottomLeftMouseDown = (event: EventType) => onScaleMouseDown(event, false, true)\n  const onBottomRightMouseDown = (event: EventType) => onScaleMouseDown(event, false, false)\n\n  return (\n  <Container>\n    <TopLeft onMouseDown={onTopLeftMouseDown} onTouchStart={onTopLeftMouseDown} />\n    <TopRight onMouseDown={onTopRightMouseDown} onTouchStart={onTopRightMouseDown} />\n    <BottomLeft onMouseDown={onBottomLeftMouseDown} onTouchStart={onBottomLeftMouseDown} />\n    <BottomRight onMouseDown={onBottomRightMouseDown} onTouchStart={onBottomRightMouseDown} />\n    <Rotator onMouseDown={onRotateMouseDown} onTouchStart={onRotateMouseDown}>\n      <img src={loop} alt='rotate' draggable={false} />\n    </Rotator>\n  </Container>\n)};\n\nexport default Controls;\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { getScale, getOuterStyles, getRotation, getEventCoordinates, EventType } from './helpers';\r\nimport { InnerContainer, OuterContainer, ItemContainer } from './styles';\r\nimport Controls from './controls';\r\n\r\nexport type ItemProps = {\r\n  children: React.ReactElement;\r\n  defaultPosition?: { x: number; y: number };\r\n};\r\n\r\nconst minSize = 20;\r\n\r\nconst Item: React.FC<ItemProps> = ({ children, defaultPosition = { x: 0, y: 0 } }) => {\r\n  const itemRef = useRef<HTMLDivElement>(null);\r\n  const [isFocussed, setIsFocussed] = useState(false);\r\n  const width = itemRef?.current?.clientWidth || 0;\r\n  const height = itemRef?.current?.clientHeight || 0;\r\n\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [positionX, setPositionX] = useState(defaultPosition.x);\r\n  const [positionY, setPositionY] = useState(defaultPosition.y);\r\n  const [dragStartPosition, setDragStartPosition] = useState({ x: 0, y: 0 });\r\n\r\n  const [isScaling, setIsScaling] = useState(false);\r\n  const [scale, setScale] = useState({ x: 1, y: 1 });\r\n  const [scaleStartPosition, setScaleStartPosition] = useState({\r\n    x: 0,\r\n    y: 0,\r\n    top: true,\r\n    left: true,\r\n  });\r\n\r\n  const [isRotating, setIsRotating] = useState(false);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [rotationStartPosition, setRotationStartPosition] = useState({\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n\r\n  const onDragMouseDown = (event: EventType) => {\r\n    setDragStartPosition(getEventCoordinates(event));\r\n    setIsDragging(true);\r\n  };\r\n\r\n  const onScaleMouseDown = (event: EventType, top: boolean, left: boolean) => {\r\n    setScaleStartPosition({\r\n      ...getEventCoordinates(event),\r\n      top,\r\n      left,\r\n    });\r\n    setIsScaling(true);\r\n  };\r\n\r\n  const onRotateMouseDown = (event: EventType) => {\r\n    setRotationStartPosition(getEventCoordinates(event));\r\n    setIsRotating(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onMouseUp = () => {\r\n      setIsDragging(false);\r\n      setIsScaling(false);\r\n      setIsRotating(false);\r\n    };\r\n\r\n    document.addEventListener('mouseup', onMouseUp);\r\n    document.addEventListener('touchend', onMouseUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n      document.removeEventListener('touchend', onMouseUp);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onDrag = (event: EventType) => {\r\n      setPositionX(positionX + getEventCoordinates(event).x - dragStartPosition.x);\r\n      setPositionY(positionY + getEventCoordinates(event).y - dragStartPosition.y);\r\n    };\r\n\r\n    if (isDragging) {\r\n      document.addEventListener('mousemove', onDrag);\r\n      document.addEventListener('touchmove', onDrag);\r\n    } else {\r\n      document.removeEventListener('mousemove', onDrag);\r\n      document.removeEventListener('touchmove', onDrag);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', onDrag);\r\n      document.removeEventListener('touchmove', onDrag);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isDragging, dragStartPosition]);\r\n\r\n  useEffect(() => {\r\n    const onScale = (event: EventType) => {\r\n      if (itemRef.current) {\r\n        const eventX = getEventCoordinates(event).x\r\n        const eventY = getEventCoordinates(event).y\r\n        const scaleX = getScale(scale.x, eventX - scaleStartPosition.x, width, scaleStartPosition.left);\r\n        const scaleY = getScale(scale.y, eventY - scaleStartPosition.y, height, scaleStartPosition.top);\r\n        const isMinWidth = scaleX * width < minSize;\r\n        const isMinHeight = scaleY * height < minSize;\r\n\r\n        setScale({\r\n          x: isMinWidth ? minSize / width : scaleX,\r\n          y: isMinHeight ? minSize / height : scaleY,\r\n        });\r\n\r\n        if (!isMinWidth) {\r\n          setPositionX(scaleStartPosition.left ? eventX : positionX);\r\n        }\r\n        if (!isMinHeight) {\r\n          setPositionY(scaleStartPosition.top ? eventY : positionY);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (isScaling) {\r\n      document.addEventListener('mousemove', onScale);\r\n      document.addEventListener('touchmove', onScale);\r\n    } else {\r\n      document.removeEventListener('mousemove', onScale);\r\n      document.removeEventListener('touchmove', onScale);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', onScale);\r\n      document.removeEventListener('touchmove', onScale);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isScaling, scaleStartPosition, width, height]);\r\n\r\n  useEffect(() => {\r\n    const onRotate = (event: EventType) => {\r\n      setRotation(getRotation(rotationStartPosition.x, rotationStartPosition.y, getEventCoordinates(event).x, getEventCoordinates(event).y));\r\n    };\r\n\r\n    if (isRotating) {\r\n      document.addEventListener('mousemove', onRotate);\r\n      document.addEventListener('touchmove', onRotate);\r\n    } else {\r\n      document.removeEventListener('mousemove', onRotate);\r\n      document.removeEventListener('touchmove', onRotate);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', onRotate);\r\n      document.removeEventListener('touchmove', onRotate);\r\n    }\r\n  }, [isRotating, rotationStartPosition]);\r\n\r\n  return (\r\n    <OuterContainer\r\n      style={getOuterStyles({\r\n        itemExists: !!itemRef.current,\r\n        positionX,\r\n        positionY,\r\n        rotation,\r\n        width,\r\n        height,\r\n        scaleX: scale.x,\r\n        scaleY: scale.y,\r\n      })}\r\n      tabIndex={0}\r\n      onFocus={() => setIsFocussed(true)}\r\n      onBlur={() => setIsFocussed(false)}\r\n    >\r\n      <InnerContainer\r\n        ref={itemRef}\r\n        style={{\r\n          transform: `scaleX(${scale.x}) scaleY(${scale.y})`,\r\n        }}\r\n        showOutline={!itemRef.current}\r\n      >\r\n        <ItemContainer onMouseDown={onDragMouseDown} onTouchStart={onDragMouseDown} >\r\n          {React.cloneElement(children, {\r\n            draggable: false,\r\n            onClick: (event: MouseEvent) => {\r\n              event.preventDefault();\r\n            },\r\n            onDragStart: (event: MouseEvent) => {\r\n              event.preventDefault();\r\n            },\r\n          })}\r\n        </ItemContainer>\r\n      </InnerContainer>\r\n      {isFocussed && <Controls onScaleMouseDown={onScaleMouseDown} onRotateMouseDown={onRotateMouseDown} />}\r\n    </OuterContainer>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import styled, { keyframes } from 'styled-components';\n\nexport const Container = styled.div`\n  background-color: #282c34;\n  height: 100vh;\n  width: 100vw;\n  font-size: calc(10px + 2vmin);\n  color: white;\n  white-space: nowrap;\n\n  p {\n    margin: 0;\n  }\n`;\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const Image = styled.img`\n  height: 40vmin;\n\n  @media (prefers-reduced-motion: no-preference) {\n    animation: ${rotate} infinite 20s linear;\n  }\n`;\n\nexport const Link = styled.a`\n  color: #61dafb;\n`;\n","import React from 'react';\nimport logo from './logo.svg';\nimport Canvas from './components/canvas';\nimport Item from './components/item';\nimport { Container, Image, Link } from './styles';\n\nconst centerPosition = {\n  x: window.innerWidth / 2 - Math.min(window.innerWidth, window.innerHeight) * 0.2,\n  y: window.innerHeight / 2 - Math.min(window.innerWidth, window.innerHeight) * 0.2,\n};\n\nconst App = () => (\n  <Container>\n    <Canvas>\n      <Item defaultPosition={centerPosition}>\n        <Image src={logo} alt='logo' />\n      </Item>\n      <Item defaultPosition={{ x: 20, y: 20 }}>\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n      </Item>\n      <Item defaultPosition={{ x: 20, y: 60 }}>\n        <Link href='https://reactjs.org' target='_blank' rel='noopener noreferrer'>\n          Learn React\n        </Link>\n      </Item>\n    </Canvas>\n  </Container>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}