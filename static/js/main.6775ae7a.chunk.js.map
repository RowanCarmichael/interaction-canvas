{"version":3,"sources":["logo.svg","components/canvas/styles.ts","components/canvas/index.tsx","components/item/helpers.ts","components/item/styles.ts","components/item/controls/styles.ts","loop.svg","components/item/controls/index.tsx","components/item/index.tsx","styles.ts","App.tsx","reportWebVitals.js","index.js"],"names":["Container","styled","Canvas","children","toRadians","degree","Math","PI","convertX","x","y","cos","sin","convertY","getOuterStyles","itemExists","positionX","positionY","rotation","width","height","scaleX","scaleY","transform","getEventCoordinates","event","touches","clientX","clientY","container","css","OuterContainer","InnerContainer","showOutline","ItemContainer","controlSize","control","TopLeft","TopRight","BottomLeft","BottomRight","Rotator","Controls","onScaleMouseDown","onRotateMouseDown","onTopLeftMouseDown","onTopRightMouseDown","onBottomLeftMouseDown","onBottomRightMouseDown","onMouseDown","onTouchStart","src","loop","alt","draggable","Item","defaultPosition","itemRef","useRef","useState","isFocussed","setIsFocussed","current","clientWidth","clientHeight","isDragging","setIsDragging","setPositionX","setPositionY","dragStartPosition","setDragStartPosition","isScaling","setIsScaling","scale","setScale","top","left","scaleStartPosition","setScaleStartPosition","isRotating","setIsRotating","setRotation","rotationStartPosition","setRotationStartPosition","onDragMouseDown","useEffect","onMouseUp","document","addEventListener","removeEventListener","onDrag","onScale","eventX","eventY","currentScaleX","currentScaleY","currentX","currentY","startX","startY","getScale","isMinWidth","isMinHeight","currentPosition","node","deltaX","deltaY","radians","getScalePositionX","getScalePositionY","onRotate","atan2","style","tabIndex","onFocus","onBlur","ref","React","cloneElement","onClick","preventDefault","onDragStart","div","rotate","keyframes","Image","img","Link","a","centerPosition","window","innerWidth","min","innerHeight","App","logo","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6775ae7a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6c1d44b8.svg\";","import styled from 'styled-components';\n\nexport const Container = styled('div')`\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n","import React from 'react';\nimport { ItemProps } from '../item';\nimport { Container } from './styles';\n\nexport type CanvasProps = {\n  children: React.ReactElement<ItemProps> | React.ReactElement<ItemProps>[];\n};\n\nconst Canvas: React.FC<CanvasProps> = ({ children }) => <Container>{children}</Container>;\n\nexport default Canvas;\n","import { EventType, OuterStyleOptionsType, ScaleOptionsType, ScalePositionOptionsType } from './types';\n\nconst toRadians = (degree: number) => (degree * Math.PI) / 180;\nconst convertX = (x: number, y: number, degree: number) =>\n  x * Math.cos(toRadians(degree)) + y * Math.sin(toRadians(degree));\nconst convertY = (x: number, y: number, degree: number) =>\n  y * Math.cos(toRadians(degree)) - x * Math.sin(toRadians(degree));\n\nexport const getScale = ({\n  currentScaleX,\n  currentScaleY,\n  currentX,\n  currentY,\n  startX,\n  startY,\n  rotation,\n  width,\n  height,\n  left,\n  top,\n}: ScaleOptionsType) => ({\n  scaleX:\n    currentScaleX + ((convertX(currentX, currentY, rotation) - convertX(startX, startY, rotation)) / width) * -left,\n  scaleY:\n    currentScaleY + ((convertY(currentX, currentY, rotation) - convertY(startX, startY, rotation)) / height) * -top,\n});\n\nexport const getScalePositionX = ({\n  currentPosition,\n  node,\n  currentX,\n  currentY,\n  startX,\n  startY,\n  rotation,\n}: ScalePositionOptionsType) => {\n  const deltaX = startX - currentX;\n  const deltaY = startY - currentY;\n  const radians = toRadians(rotation);\n\n  return currentPosition - deltaX * ((Math.cos(radians) + node) / (node * 2)) - (node * Math.sin(radians) * deltaY) / 2;\n};\n\nexport const getScalePositionY = ({\n  currentPosition,\n  node,\n  currentX,\n  currentY,\n  startX,\n  startY,\n  rotation,\n}: ScalePositionOptionsType) => {\n  const deltaX = startX - currentX;\n  const deltaY = startY - currentY;\n  const radians = toRadians(rotation);\n\n  return currentPosition + (node * Math.sin(radians) * deltaX) / 2 - deltaY * ((Math.cos(radians) + node) / (node * 2));\n};\n\nexport const getRotation = (startX: number, startY: number, currentX: number, currentY: number) =>\n  (Math.atan2(startY - currentY, startX - currentX) * 180) / Math.PI + 90;\n\nexport const getOuterStyles = ({\n  itemExists,\n  positionX,\n  positionY,\n  rotation,\n  width,\n  height,\n  scaleX,\n  scaleY,\n}: OuterStyleOptionsType) => ({\n  transform: `translate(${positionX}px, ${positionY}px) rotate(${rotation}deg)`,\n  width: itemExists ? width * scaleX : 0,\n  height: itemExists ? height * scaleY : 0,\n});\n\nexport const getEventCoordinates = (event: EventType) =>\n  'touches' in event\n    ? { x: event.touches[0].clientX, y: event.touches[0].clientY }\n    : { x: event.clientX, y: event.clientY };\n","import styled, { css } from 'styled-components';\n\nexport const container = css`\n  position: absolute;\n  pointer-events: none;\n  user-select: none;\n  -webkit-user-drag: none;\n`;\n\nexport const OuterContainer = styled('div')`\n  ${container};\n\n  &:focus,\n  &:hover {\n    outline: solid 2px;\n  }\n`;\n\nexport const InnerContainer = styled('div')<{ showOutline: boolean }>`\n  ${container};\n  transform-origin: 0 0;\n\n  ${({ showOutline }) =>\n    showOutline &&\n    css`\n      &:hover {\n        outline: solid 2px;\n      }\n    `}\n`;\n\nexport const ItemContainer = styled('div')`\n  pointer-events: auto;\n  cursor: move;\n  display: flex;\n  flex-direction: column;\n\n  * {\n    cursor: move;\n  }\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled('div')`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n`;\n\nconst controlSize = 16;\n\nconst control = css`\n  position: absolute;\n  pointer-events: auto;\n  width: ${controlSize}px;\n  height: ${controlSize}px;\n  background: white;\n  border-radius: 50%;\n`;\n\nexport const TopLeft = styled('div')`\n  ${control};\n  top: -${controlSize / 2}px;\n  left: -${controlSize / 2}px;\n  cursor: se-resize;\n`;\n\nexport const TopRight = styled('div')`\n  ${control};\n  top: -${controlSize / 2}px;\n  right: -${controlSize / 2}px;\n  cursor: sw-resize;\n`;\n\nexport const BottomLeft = styled('div')`\n  ${control};\n  bottom: -${controlSize / 2}px;\n  left: -${controlSize / 2}px;\n  cursor: sw-resize;\n`;\n\nexport const BottomRight = styled('div')`\n  ${control};\n  bottom: -${controlSize / 2}px;\n  right: -${controlSize / 2}px;\n  cursor: se-resize;\n`;\n\nexport const Rotator = styled('div')`\n  ${control};\n  top: calc(50% - ${controlSize / 2}px);\n  left: calc(50% - ${controlSize / 2}px);\n  cursor: grabbing;\n\n  img {\n    display: block;\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/loop.2aa6c7dc.svg\";","import React from 'react';\nimport { EventType } from '../types';\nimport { Container, TopLeft, TopRight, BottomLeft, BottomRight, Rotator } from './styles';\nimport loop from '../../../loop.svg';\n\nexport type ControlsProps = {\n  onScaleMouseDown: (event: EventType, top: boolean, left: boolean) => void;\n  onRotateMouseDown: (event: EventType) => void;\n};\n\nconst Controls: React.FC<ControlsProps> = ({ onScaleMouseDown, onRotateMouseDown }) => {\n  const onTopLeftMouseDown = (event: EventType) => onScaleMouseDown(event, true, true);\n  const onTopRightMouseDown = (event: EventType) => onScaleMouseDown(event, true, false);\n  const onBottomLeftMouseDown = (event: EventType) => onScaleMouseDown(event, false, true);\n  const onBottomRightMouseDown = (event: EventType) => onScaleMouseDown(event, false, false);\n\n  return (\n    <Container>\n      <TopLeft onMouseDown={onTopLeftMouseDown} onTouchStart={onTopLeftMouseDown} />\n      <TopRight onMouseDown={onTopRightMouseDown} onTouchStart={onTopRightMouseDown} />\n      <BottomLeft onMouseDown={onBottomLeftMouseDown} onTouchStart={onBottomLeftMouseDown} />\n      <BottomRight onMouseDown={onBottomRightMouseDown} onTouchStart={onBottomRightMouseDown} />\n      <Rotator onMouseDown={onRotateMouseDown} onTouchStart={onRotateMouseDown}>\n        <img src={loop} alt='rotate' draggable={false} />\n      </Rotator>\n    </Container>\n  );\n};\n\nexport default Controls;\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  getScale,\r\n  getOuterStyles,\r\n  getRotation,\r\n  getEventCoordinates,\r\n  getScalePositionX,\r\n  getScalePositionY,\r\n} from './helpers';\r\nimport { InnerContainer, OuterContainer, ItemContainer } from './styles';\r\nimport Controls from './controls';\r\nimport { EventType } from './types';\r\n\r\nexport type ItemProps = {\r\n  children: React.ReactElement;\r\n  defaultPosition?: { x: number; y: number };\r\n};\r\n\r\nconst minSize = 20;\r\n\r\nconst Item: React.FC<ItemProps> = ({ children, defaultPosition = { x: 0, y: 0 } }) => {\r\n  const itemRef = useRef<HTMLDivElement>(null);\r\n  const [isFocussed, setIsFocussed] = useState(false);\r\n  const width = itemRef?.current?.clientWidth || 0;\r\n  const height = itemRef?.current?.clientHeight || 0;\r\n\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [positionX, setPositionX] = useState(defaultPosition.x);\r\n  const [positionY, setPositionY] = useState(defaultPosition.y);\r\n  const [dragStartPosition, setDragStartPosition] = useState({ x: 0, y: 0 });\r\n\r\n  const [isScaling, setIsScaling] = useState(false);\r\n  const [scale, setScale] = useState({ x: 1, y: 1 });\r\n  const [scaleStartPosition, setScaleStartPosition] = useState({\r\n    x: 0,\r\n    y: 0,\r\n    top: 1,\r\n    left: 1,\r\n  });\r\n\r\n  const [isRotating, setIsRotating] = useState(false);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [rotationStartPosition, setRotationStartPosition] = useState({\r\n    x: 0,\r\n    y: 0,\r\n  });\r\n\r\n  const onDragMouseDown = (event: EventType) => {\r\n    setDragStartPosition(getEventCoordinates(event));\r\n    setIsDragging(true);\r\n  };\r\n\r\n  const onScaleMouseDown = (event: EventType, top: boolean, left: boolean) => {\r\n    setScaleStartPosition({\r\n      ...getEventCoordinates(event),\r\n      top: top ? 1 : -1,\r\n      left: left ? 1 : -1,\r\n    });\r\n    setIsScaling(true);\r\n  };\r\n\r\n  const onRotateMouseDown = (event: EventType) => {\r\n    setRotationStartPosition(getEventCoordinates(event));\r\n    setIsRotating(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onMouseUp = () => {\r\n      setIsDragging(false);\r\n      setIsScaling(false);\r\n      setIsRotating(false);\r\n    };\r\n\r\n    document.addEventListener('mouseup', onMouseUp);\r\n    document.addEventListener('touchend', onMouseUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('mouseup', onMouseUp);\r\n      document.removeEventListener('touchend', onMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onDrag = (event: EventType) => {\r\n      setPositionX(positionX + getEventCoordinates(event).x - dragStartPosition.x);\r\n      setPositionY(positionY + getEventCoordinates(event).y - dragStartPosition.y);\r\n    };\r\n\r\n    if (isDragging) {\r\n      document.addEventListener('mousemove', onDrag);\r\n      document.addEventListener('touchmove', onDrag);\r\n    } else {\r\n      document.removeEventListener('mousemove', onDrag);\r\n      document.removeEventListener('touchmove', onDrag);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', onDrag);\r\n      document.removeEventListener('touchmove', onDrag);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isDragging, dragStartPosition]);\r\n\r\n  useEffect(() => {\r\n    const onScale = (event: EventType) => {\r\n      if (itemRef.current) {\r\n        const eventX = getEventCoordinates(event).x;\r\n        const eventY = getEventCoordinates(event).y;\r\n        const { scaleX, scaleY } = getScale({\r\n          currentScaleX: scale.x,\r\n          currentScaleY: scale.y,\r\n          width: width,\r\n          height: height,\r\n          top: scaleStartPosition.top,\r\n          left: scaleStartPosition.left,\r\n          currentX: eventX,\r\n          currentY: eventY,\r\n          startX: scaleStartPosition.x,\r\n          startY: scaleStartPosition.y,\r\n          rotation,\r\n        });\r\n        const isMinWidth = scaleX * width < minSize;\r\n        const isMinHeight = scaleY * height < minSize;\r\n\r\n        setScale({\r\n          x: isMinWidth ? minSize / width : scaleX,\r\n          y: isMinHeight ? minSize / height : scaleY,\r\n        });\r\n\r\n        if (!isMinWidth) {\r\n          setPositionX(\r\n            getScalePositionX({\r\n              currentPosition: positionX,\r\n              node: scaleStartPosition.left,\r\n              currentX: eventX,\r\n              currentY: eventY,\r\n              startX: scaleStartPosition.x,\r\n              startY: scaleStartPosition.y,\r\n              rotation,\r\n            })\r\n          );\r\n        }\r\n        if (!isMinHeight) {\r\n          setPositionY(\r\n            getScalePositionY({\r\n              currentPosition: positionY,\r\n              node: scaleStartPosition.top,\r\n              currentX: eventX,\r\n              currentY: eventY,\r\n              startX: scaleStartPosition.x,\r\n              startY: scaleStartPosition.y,\r\n              rotation,\r\n            })\r\n          );\r\n        }\r\n      }\r\n    };\r\n\r\n    if (isScaling) {\r\n      document.addEventListener('mousemove', onScale);\r\n      document.addEventListener('touchmove', onScale);\r\n    } else {\r\n      document.removeEventListener('mousemove', onScale);\r\n      document.removeEventListener('touchmove', onScale);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', onScale);\r\n      document.removeEventListener('touchmove', onScale);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isScaling, scaleStartPosition, width, height]);\r\n\r\n  useEffect(() => {\r\n    const onRotate = (event: EventType) => {\r\n      setRotation(\r\n        getRotation(\r\n          rotationStartPosition.x,\r\n          rotationStartPosition.y,\r\n          getEventCoordinates(event).x,\r\n          getEventCoordinates(event).y\r\n        )\r\n      );\r\n    };\r\n\r\n    if (isRotating) {\r\n      document.addEventListener('mousemove', onRotate);\r\n      document.addEventListener('touchmove', onRotate);\r\n    } else {\r\n      document.removeEventListener('mousemove', onRotate);\r\n      document.removeEventListener('touchmove', onRotate);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', onRotate);\r\n      document.removeEventListener('touchmove', onRotate);\r\n    };\r\n  }, [isRotating, rotationStartPosition]);\r\n\r\n  return (\r\n    <OuterContainer\r\n      style={getOuterStyles({\r\n        itemExists: !!itemRef.current,\r\n        positionX,\r\n        positionY,\r\n        rotation,\r\n        width,\r\n        height,\r\n        scaleX: scale.x,\r\n        scaleY: scale.y,\r\n      })}\r\n      tabIndex={0}\r\n      onFocus={() => setIsFocussed(true)}\r\n      onBlur={() => setIsFocussed(false)}\r\n    >\r\n      <InnerContainer\r\n        ref={itemRef}\r\n        style={{\r\n          transform: `scaleX(${scale.x}) scaleY(${scale.y})`,\r\n        }}\r\n        showOutline={!itemRef.current}\r\n      >\r\n        <ItemContainer onMouseDown={onDragMouseDown} onTouchStart={onDragMouseDown}>\r\n          {React.cloneElement(children, {\r\n            draggable: false,\r\n            onClick: (event: MouseEvent) => {\r\n              event.preventDefault();\r\n            },\r\n            onDragStart: (event: MouseEvent) => {\r\n              event.preventDefault();\r\n            },\r\n          })}\r\n        </ItemContainer>\r\n      </InnerContainer>\r\n      {isFocussed && <Controls onScaleMouseDown={onScaleMouseDown} onRotateMouseDown={onRotateMouseDown} />}\r\n    </OuterContainer>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import styled, { keyframes } from 'styled-components';\n\nexport const Container = styled.div`\n  background-color: #282c34;\n  height: 100vh;\n  width: 100vw;\n  font-size: calc(10px + 2vmin);\n  color: white;\n  white-space: nowrap;\n\n  p {\n    margin: 0;\n  }\n`;\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const Image = styled.img`\n  height: 40vmin;\n\n  @media (prefers-reduced-motion: no-preference) {\n    animation: ${rotate} infinite 20s linear;\n  }\n`;\n\nexport const Link = styled.a`\n  color: #61dafb;\n`;\n","import React from 'react';\nimport logo from './logo.svg';\nimport Canvas from './components/canvas';\nimport Item from './components/item';\nimport { Container, Image, Link } from './styles';\n\nconst centerPosition = {\n  x: window.innerWidth / 2 - Math.min(window.innerWidth, window.innerHeight) * 0.2,\n  y: window.innerHeight / 2 - Math.min(window.innerWidth, window.innerHeight) * 0.2,\n};\n\nconst App = () => (\n  <Container>\n    <Canvas>\n      <Item defaultPosition={centerPosition}>\n        <Image src={logo} alt='logo' />\n      </Item>\n      <Item defaultPosition={{ x: 20, y: 20 }}>\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n      </Item>\n      <Item defaultPosition={{ x: 20, y: 60 }}>\n        <Link href='https://reactjs.org' target='_blank' rel='noopener noreferrer'>\n          Learn React\n        </Link>\n      </Item>\n    </Canvas>\n  </Container>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}