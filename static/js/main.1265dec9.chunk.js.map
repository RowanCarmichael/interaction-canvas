{"version":3,"sources":["logo.svg","components/canvas/styles.ts","components/canvas/index.tsx","components/item/helpers.ts","components/item/styles.ts","components/item/controls/styles.ts","loop.svg","components/item/controls/index.tsx","components/item/index.tsx","styles.ts","App.tsx","reportWebVitals.js","index.js"],"names":["Container","styled","Canvas","children","getScale","currentScale","delta","size","inverse","getOuterStyles","itemExists","positionX","positionY","rotation","width","height","scaleX","scaleY","transform","transformOrigin","getEventCoordinates","event","x","touches","clientX","y","clientY","container","css","OuterContainer","InnerContainer","showOutline","ItemContainer","controlSize","control","TopLeft","TopRight","BottomLeft","BottomRight","Rotator","Controls","onScaleMouseDown","onRotateMouseDown","onTopLeftMouseDown","onTopRightMouseDown","onBottomLeftMouseDown","onBottomRightMouseDown","onMouseDown","onTouchStart","src","loop","alt","draggable","Item","defaultPosition","itemRef","useRef","useState","isFocussed","setIsFocussed","current","clientWidth","clientHeight","isDragging","setIsDragging","setPositionX","setPositionY","dragStartPosition","setDragStartPosition","isScaling","setIsScaling","scale","setScale","top","left","scaleStartPosition","setScaleStartPosition","isRotating","setIsRotating","setRotation","rotationStartPosition","setRotationStartPosition","onDragMouseDown","useEffect","onMouseUp","document","addEventListener","removeEventListener","onDrag","throttle","onScale","eventX","eventY","isMinWidth","isMinHeight","onRotate","startX","startY","currentX","currentY","Math","atan2","PI","style","tabIndex","onFocus","onBlur","ref","React","cloneElement","onClick","preventDefault","onDragStart","div","rotate","keyframes","Image","img","Link","a","centerPosition","window","innerWidth","min","innerHeight","App","logo","href","target","rel","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1265dec9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6c1d44b8.svg\";","import styled from 'styled-components';\n\nexport const Container = styled('div')`\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n","import React from 'react';\nimport { ItemProps } from '../item';\nimport { Container } from './styles';\n\nexport type CanvasProps = {\n  children: React.ReactElement<ItemProps> | React.ReactElement<ItemProps>[];\n};\n\nconst Canvas: React.FC<CanvasProps> = ({ children }) => <Container>{children}</Container>;\n\nexport default Canvas;\n","import React from 'react'\n\nexport const getScale = (currentScale: number, delta: number, size: number, inverse: boolean) => {\n  return currentScale + (delta / size) * (inverse ? -1 : 1);\n};\n\nexport const getRotation = (startX: number, startY: number, currentX: number, currentY: number) =>\n  (Math.atan2(startY - currentY, startX - currentX) * 180) / Math.PI + 90;\n\ntype OuterStyleOptionsType = {\n  itemExists: boolean;\n  positionX: number;\n  positionY: number;\n  rotation: number;\n  width: number;\n  height: number;\n  scaleX: number;\n  scaleY: number;\n};\n\nexport const getOuterStyles = ({\n  itemExists,\n  positionX,\n  positionY,\n  rotation,\n  width,\n  height,\n  scaleX,\n  scaleY,\n}: OuterStyleOptionsType) => ({\n  transform: `translate(${positionX}px, ${positionY}px) rotate(${rotation}deg)`,\n  width: itemExists ? width * scaleX : 0,\n  height: itemExists ? height * scaleY : 0,\n  transformOrigin: itemExists ? `${(width * scaleX) / 2}px ${(height * scaleY) / 2}px` : 'center',\n});\n\nexport type EventType = React.MouseEvent<HTMLDivElement, MouseEvent> | MouseEvent | React.TouchEvent<HTMLDivElement> | TouchEvent\n\nexport const getEventCoordinates = (event: EventType) => (\n  'touches' in event ? { x: event.touches[0].clientX, y: event.touches[0].clientY } : { x: event.clientX, y: event.clientY }\n)\n","import styled, { css } from 'styled-components';\n\nexport const container = css`\n  position: absolute;\n  pointer-events: none;\n  user-select: none;\n  -webkit-user-drag: none;\n`;\n\nexport const OuterContainer = styled('div')`\n  ${container};\n\n  &:focus,\n  &:hover {\n    outline: solid 2px;\n  }\n`;\n\nexport const InnerContainer = styled('div')<{ showOutline: boolean }>`\n  ${container};\n  transform-origin: 0 0;\n\n  ${({ showOutline }) =>\n    showOutline &&\n    css`\n      &:hover {\n        outline: solid 2px;\n      }\n    `}\n`;\n\nexport const ItemContainer = styled('div')`\n  pointer-events: auto;\n  cursor: move;\n  display: flex;\n  flex-direction: column;\n\n  * {\n    cursor: move;\n  }\n`;\n","import styled, { css } from 'styled-components';\n\nexport const Container = styled('div')`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n`;\n\nconst controlSize = 16;\n\nconst control = css`\n  position: absolute;\n  pointer-events: auto;\n  width: ${controlSize}px;\n  height: ${controlSize}px;\n  background: white;\n  border-radius: 50%;\n`;\n\nexport const TopLeft = styled('div')`\n  ${control};\n  top: -${controlSize / 2}px;\n  left: -${controlSize / 2}px;\n  cursor: se-resize;\n`;\n\nexport const TopRight = styled('div')`\n  ${control};\n  top: -${controlSize / 2}px;\n  right: -${controlSize / 2}px;\n  cursor: sw-resize;\n`;\n\nexport const BottomLeft = styled('div')`\n  ${control};\n  bottom: -${controlSize / 2}px;\n  left: -${controlSize / 2}px;\n  cursor: sw-resize;\n`;\n\nexport const BottomRight = styled('div')`\n  ${control};\n  bottom: -${controlSize / 2}px;\n  right: -${controlSize / 2}px;\n  cursor: se-resize;\n`;\n\nexport const Rotator = styled('div')`\n  ${control};\n  top: calc(50% - ${controlSize / 2}px);\n  left: calc(50% - ${controlSize / 2}px);\n  cursor: grabbing;\n\n  img {\n    display: block;\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/loop.2aa6c7dc.svg\";","import React from 'react';\nimport { EventType } from '../helpers'\nimport { Container, TopLeft, TopRight, BottomLeft, BottomRight, Rotator } from './styles';\nimport loop from '../../../loop.svg';\n\nexport type ControlsProps = {\n  onScaleMouseDown: (event: EventType, top: boolean, left: boolean) => void;\n  onRotateMouseDown: (event: EventType) => void;\n};\n\nconst Controls: React.FC<ControlsProps> = ({ onScaleMouseDown, onRotateMouseDown }) => {\n  const onTopLeftMouseDown = (event: EventType) => onScaleMouseDown(event, true, true)\n  const onTopRightMouseDown = (event: EventType) => onScaleMouseDown(event, true, false)\n  const onBottomLeftMouseDown = (event: EventType) => onScaleMouseDown(event, false, true)\n  const onBottomRightMouseDown = (event: EventType) => onScaleMouseDown(event, false, false)\n\n  return (\n  <Container>\n    <TopLeft onMouseDown={onTopLeftMouseDown} onTouchStart={onTopLeftMouseDown} />\n    <TopRight onMouseDown={onTopRightMouseDown} onTouchStart={onTopRightMouseDown} />\n    <BottomLeft onMouseDown={onBottomLeftMouseDown} onTouchStart={onBottomLeftMouseDown} />\n    <BottomRight onMouseDown={onBottomRightMouseDown} onTouchStart={onBottomRightMouseDown} />\n    <Rotator onMouseDown={onRotateMouseDown} onTouchStart={onRotateMouseDown}>\n      <img src={loop} alt='rotate' draggable={false} />\n    </Rotator>\n  </Container>\n)};\n\nexport default Controls;\n","import React, { useEffect, useRef, useState } from 'react';\nimport throttle from 'lodash.throttle';\nimport { getScale, getOuterStyles, getRotation, getEventCoordinates, EventType } from './helpers';\nimport { InnerContainer, OuterContainer, ItemContainer } from './styles';\nimport Controls from './controls';\n\nexport type ItemProps = {\n  children: React.ReactElement;\n  defaultPosition?: { x: number; y: number };\n};\n\nconst minSize = 20;\n\nconst Item: React.FC<ItemProps> = ({ children, defaultPosition = { x: 0, y: 0 } }) => {\n  const itemRef = useRef<HTMLDivElement>(null);\n  const [isFocussed, setIsFocussed] = useState(false);\n  const width = itemRef?.current?.clientWidth || 0;\n  const height = itemRef?.current?.clientHeight || 0;\n\n  const [isDragging, setIsDragging] = useState(false);\n  const [positionX, setPositionX] = useState(defaultPosition.x);\n  const [positionY, setPositionY] = useState(defaultPosition.y);\n  const [dragStartPosition, setDragStartPosition] = useState({ x: 0, y: 0 });\n\n  const [isScaling, setIsScaling] = useState(false);\n  const [scale, setScale] = useState({ x: 1, y: 1 });\n  const [scaleStartPosition, setScaleStartPosition] = useState({\n    x: 0,\n    y: 0,\n    top: true,\n    left: true,\n  });\n\n  const [isRotating, setIsRotating] = useState(false);\n  const [rotation, setRotation] = useState(0);\n  const [rotationStartPosition, setRotationStartPosition] = useState({\n    x: 0,\n    y: 0,\n  });\n\n  const onDragMouseDown = (event: EventType) => {\n    setDragStartPosition(getEventCoordinates(event));\n    setIsDragging(true);\n  };\n\n  const onScaleMouseDown = (event: EventType, top: boolean, left: boolean) => {\n    setScaleStartPosition({\n      ...getEventCoordinates(event),\n      top,\n      left,\n    });\n    setIsScaling(true);\n  };\n\n  const onRotateMouseDown = (event: EventType) => {\n    setRotationStartPosition(getEventCoordinates(event));\n    setIsRotating(true);\n  };\n\n  useEffect(() => {\n    const onMouseUp = () => {\n      setIsDragging(false);\n      setIsScaling(false);\n      setIsRotating(false);\n    };\n\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('touchend', onMouseUp);\n\n    return () => {\n      document.removeEventListener('mouseup', onMouseUp);\n      document.removeEventListener('touchend', onMouseUp);\n    }\n  }, []);\n\n  useEffect(() => {\n    const onDrag = throttle((event: EventType) => {\n      setPositionX(positionX + getEventCoordinates(event).x - dragStartPosition.x);\n      setPositionY(positionY + getEventCoordinates(event).y - dragStartPosition.y);\n    }, 10);\n\n    if (isDragging) {\n      document.addEventListener('mousemove', onDrag);\n      document.addEventListener('touchmove', onDrag);\n    } else {\n      document.removeEventListener('mousemove', onDrag);\n      document.removeEventListener('touchmove', onDrag);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', onDrag);\n      document.removeEventListener('touchmove', onDrag);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isDragging, dragStartPosition]);\n\n  useEffect(() => {\n    const onScale = throttle((event: EventType) => {\n      if (itemRef.current) {\n        const eventX = getEventCoordinates(event).x\n        const eventY = getEventCoordinates(event).y\n        const scaleX = getScale(scale.x, eventX - scaleStartPosition.x, width, scaleStartPosition.left);\n        const scaleY = getScale(scale.y, eventY - scaleStartPosition.y, height, scaleStartPosition.top);\n        const isMinWidth = scaleX * width < minSize;\n        const isMinHeight = scaleY * height < minSize;\n\n        setScale({\n          x: isMinWidth ? minSize / width : scaleX,\n          y: isMinHeight ? minSize / height : scaleY,\n        });\n\n        if (!isMinWidth) {\n          setPositionX(scaleStartPosition.left ? eventX : positionX);\n        }\n        if (!isMinHeight) {\n          setPositionY(scaleStartPosition.top ? eventY : positionY);\n        }\n      }\n    }, 10);\n\n    if (isScaling) {\n      document.addEventListener('mousemove', onScale);\n      document.addEventListener('touchmove', onScale);\n    } else {\n      document.removeEventListener('mousemove', onScale);\n      document.removeEventListener('touchmove', onScale);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', onScale);\n      document.removeEventListener('touchmove', onScale);\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isScaling, scaleStartPosition, width, height]);\n\n  useEffect(() => {\n    const onRotate = throttle((event: EventType) => {\n      setRotation(getRotation(rotationStartPosition.x, rotationStartPosition.y, getEventCoordinates(event).x, getEventCoordinates(event).y));\n    }, 10);\n\n    if (isRotating) {\n      document.addEventListener('mousemove', onRotate);\n      document.addEventListener('touchmove', onRotate);\n    } else {\n      document.removeEventListener('mousemove', onRotate);\n      document.removeEventListener('touchmove', onRotate);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', onRotate);\n      document.removeEventListener('touchmove', onRotate);\n    }\n  }, [isRotating, rotationStartPosition]);\n\n  return (\n    <OuterContainer\n      style={getOuterStyles({\n        itemExists: !!itemRef.current,\n        positionX,\n        positionY,\n        rotation,\n        width,\n        height,\n        scaleX: scale.x,\n        scaleY: scale.y,\n      })}\n      tabIndex={0}\n      onFocus={() => setIsFocussed(true)}\n      onBlur={() => setIsFocussed(false)}\n    >\n      <InnerContainer\n        ref={itemRef}\n        style={{\n          transform: `scaleX(${scale.x}) scaleY(${scale.y})`,\n        }}\n        showOutline={!itemRef.current}\n      >\n        <ItemContainer onMouseDown={onDragMouseDown} onTouchStart={onDragMouseDown} >\n          {React.cloneElement(children, {\n            draggable: false,\n            onClick: (event: MouseEvent) => {\n              event.preventDefault();\n            },\n            onDragStart: (event: MouseEvent) => {\n              event.preventDefault();\n            },\n          })}\n        </ItemContainer>\n      </InnerContainer>\n      {isFocussed && <Controls onScaleMouseDown={onScaleMouseDown} onRotateMouseDown={onRotateMouseDown} />}\n    </OuterContainer>\n  );\n};\n\nexport default Item;\n","import styled, { keyframes } from 'styled-components';\n\nexport const Container = styled.div`\n  background-color: #282c34;\n  height: 100vh;\n  width: 100vw;\n  font-size: calc(10px + 2vmin);\n  color: white;\n  white-space: nowrap;\n\n  p {\n    margin: 0;\n  }\n`;\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nexport const Image = styled.img`\n  height: 40vmin;\n\n  @media (prefers-reduced-motion: no-preference) {\n    animation: ${rotate} infinite 20s linear;\n  }\n`;\n\nexport const Link = styled.a`\n  color: #61dafb;\n`;\n","import React from 'react';\nimport logo from './logo.svg';\nimport Canvas from './components/canvas';\nimport Item from './components/item';\nimport { Container, Image, Link } from './styles';\n\nconst centerPosition = {\n  x: window.innerWidth / 2 - Math.min(window.innerWidth, window.innerHeight) * 0.2,\n  y: window.innerHeight / 2 - Math.min(window.innerWidth, window.innerHeight) * 0.2,\n};\n\nconst App = () => (\n  <Container>\n    <Canvas>\n      <Item defaultPosition={centerPosition}>\n        <Image src={logo} alt='logo' />\n      </Item>\n      <Item defaultPosition={{ x: 20, y: 20 }}>\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n      </Item>\n      <Item defaultPosition={{ x: 20, y: 60 }}>\n        <Link href='https://reactjs.org' target='_blank' rel='noopener noreferrer'>\n          Learn React\n        </Link>\n      </Item>\n    </Canvas>\n  </Container>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}